<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DjChat</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.teal-green.min.css" />
    {% load static %}
    <link rel="icon" href="{% static 'img/favicon.PNG' %}" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script defer src="{% static 'js/script.js' %}"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  </head>

  <body onload="requiredInputColor()">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
          <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title">
                    DjChat
                </span>

                {% if request.user.is_authenticated %}
                <div class="mdl-layout-spacer">
                  <a href="/logout/">
                    <button class="mdl-button mdl-js-button mdl-button--raised" style="color: white;">
                      Logout
                    </button>
                  </a>
                </div>
                {% else %}
                  <div class="mdl-layout-spacer">
                    <a href="/login/">
                      <button class="mdl-button mdl-js-button mdl-button--raised" style="color: white;">
                        Login
                      </button>
                    </a>
                  </div>
                {% endif %}
            </div>
          </header>
      
          <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">Chatroom</span>
            <nav class="mdl-navigation">
              {% if request.user.is_authenticated %}
              {% csrf_token %}
                {% for receiver in receiverList %}
                  <a class="mdl-navigation__link" href="/chat/">{{ receiver }}</a>
                {% endfor %}
                <!-- <a class="mdl-navigation__link" href="/chat/">Chat</a> -->
                <a class="mdl-navigation__link" href="/logout/">Logout</a>
                {% if user.is_superuser %}
                <a class="mdl-navigation__link" href="/admin/">Admin</a>
                {% else %} {% endif %}

              {% else %}
                <a class="mdl-navigation__link" href="/register/">Register</a>
                <a class="mdl-navigation__link" href="/login/">Login</a>
              {% endif %}
            </nav>
          </div>
      
        <main class="mdl-layout__content">        
            <div class="page-content">
                {% block content %} {% endblock %}
            </div>
        </main>
      </div>
  </body>
</html>
